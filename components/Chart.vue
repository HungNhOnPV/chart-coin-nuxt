<template>
  <div>
    <highcharts
      :constructor-type="'stockChart'"
      :options="chartOptions"
    ></highcharts>
  </div>
</template>

<script>
import { mapActions } from "vuex";
export default {
  data() {
    return {
      chartOptions: {
        chart: {
          height: 600,
          zoomType: "x",
        },
        rangeSelector: {
          buttons: [
            {
              type: "day",
              count: 1,
              text: "1d",
            },
            {
              type: "day",
              count: 7,
              text: "7d",
            },
            {
              type: "month",
              count: 1,
              text: "1m",
            },
            {
              type: "month",
              count: 6,
              text: "6m",
            },
            {
              type: "year",
              count: 1,
              text: "1y",
            },
            {
              type: "ytd",
              text: "YTD",
              title: "YTD",
            },
            {
              type: "all",
              text: "All",
            },
          ],
          inputEnabled: false,
          allButtonsEnabled: true,
          verticalAlign: "top",
          buttonPosition: {
            align: "right",
          },
          inputPosition: {
            align: "left",
          },
        },
        title: {
          text: "Holders",
        },
        subtitle: {
          text:
            document.ontouchstart === undefined
              ? "Click and drag in the plot area to zoom in"
              : "Pinch the chart to zoom in",
        },
        xAxis: {
          type: "datetime",
          minRange: 3600 * 1000, // one hour
        },
        yAxis: {
          title: {
            text: "Total Holders",
          },
        },
        legend: {
          enabled: false,
        },
        plotOptions: {
          area: {
            fillColor: {
              // linearGradient: {
              //   x1: 0,
              //   y1: 0,
              //   x2: 0,
              //   y2: 1,
              // },
              // stops: [
              //   [0, "rgba(40,120,240,1)"],
              //   [1, "rgba(40,120,240,0)"],
              // ],
            },
            marker: {
              radius: 2,
            },
            lineWidth: 1,
            states: {
              hover: {
                lineWidth: 1,
              },
            },
            threshold: null,
          },
        },
        series: [
          {
            type: "area",
            name: "Holders",
            data: [],
          },
        ],
      },
    };
  },
  methods: {
    ...mapActions("chart", ["getHolder"]),
  },
  created() {
    this.getHolder({
      contractAddress: "0xb5e1f0264e249a593019f3893bd2272fb79bab05",
      timeLine: "day",
    })
      .then((res) => {
        // this.chartOptions.series[0].data = res.data.data;
        // this.chartOptions.series[0].data = res.data;
        this.chartOptions.series[0].data = [
          [1559136600000, 44.35],
          [1559172600000, 45.35],
          [1559208600000, 40.35],
          [1559223000000, 41.58],
          [1559309400000, 43.77],
          [1559568600000, 43.33],
          [1559655000000, 44.91],
          [1559741400000, 45.63],
          [1559827800000, 46.31],
          [1559914200000, 47.54],
          [1560173400000, 48.15],
          [1560259800000, 48.7],
          [1560346200000, 48.55],
          [1560432600000, 48.54],
          [1560519000000, 48.19],
          [1560778200000, 48.47],
          [1560864600000, 49.61],
          [1560951000000, 49.47],
          [1561037400000, 49.87],
          [1561123800000, 49.69],
          [1561383000000, 49.65],
          [1561469400000, 48.89],
          [1561555800000, 49.95],
          [1561642200000, 49.94],
          [1561728600000, 49.48],
          [1561987800000, 50.39],
          [1562074200000, 50.68],
          [1562160600000, 51.1],
          [1562333400000, 51.06],
          [1562592600000, 50.01],
          [1562679000000, 50.31],
          [1562765400000, 50.81],
          [1562851800000, 50.44],
          [1562938200000, 50.83],
          [1563197400000, 51.3],
          [1563283800000, 51.13],
          [1563370200000, 50.84],
          [1563456600000, 51.42],
          [1563543000000, 50.65],
          [1563802200000, 51.81],
          [1563888600000, 52.21],
          [1563975000000, 52.17],
          [1564061400000, 51.76],
          [1564147800000, 51.94],
          [1564407000000, 52.42],
          [1564493400000, 52.19],
          [1564579800000, 53.26],
          [1564666200000, 52.11],
          [1564752600000, 51.01],
          [1565011800000, 48.33],
          [1565098200000, 49.25],
          [1565184600000, 49.76],
          [1565271000000, 50.86],
          [1565357400000, 50.25],
          [1565616600000, 50.12],
          [1565703000000, 52.24],
          [1565789400000, 50.69],
          [1565875800000, 50.44],
          [1565962200000, 51.63],
          [1566221400000, 52.59],
          [1566307800000, 52.59],
          [1566394200000, 53.16],
          [1566480600000, 53.12],
          [1566567000000, 50.66],
          [1566826200000, 51.62],
          [1566912600000, 51.04],
          [1566999000000, 51.38],
          [1567085400000, 52.25],
          [1567171800000, 52.19],
          [1567517400000, 51.42],
          [1567603800000, 52.3],
          [1567690200000, 53.32],
          [1567776600000, 53.31],
          [1568035800000, 53.54],
          [1568122200000, 54.17],
          [1568208600000, 55.9],
          [1568295000000, 55.77],
          [1568381400000, 54.69],
          [1568640600000, 54.97],
          [1568727000000, 55.17],
          [1568813400000, 55.69],
          [1568899800000, 55.24],
          [1568986200000, 54.43],
          [1569245400000, 54.68],
          [1569331800000, 54.42],
          [1569418200000, 55.26],
          [1569504600000, 54.97],
          [1569591000000, 54.71],
          [1569850200000, 55.99],
          [1569936600000, 56.15],
          [1570023000000, 54.74],
          [1570109400000, 55.21],
          [1570195800000, 56.75],
          [1570455000000, 56.76],
          [1570541400000, 56.1],
          [1570627800000, 56.76],
          [1570714200000, 57.52],
          [1570800600000, 59.05],
          [1571059800000, 58.97],
          [1571146200000, 58.83],
          [1571232600000, 58.59],
          [1571319000000, 58.82],
          [1571405400000, 59.1],
          [1571664600000, 60.13],
          [1571751000000, 59.99],
          [1571837400000, 60.79],
          [1571923800000, 60.9],
          [1572010200000, 61.65],
          [1572269400000, 62.26],
          [1572355800000, 60.82],
          [1572442200000, 60.81],
          [1572528600000, 62.19],
          [1572615000000, 63.96],
          [1572877800000, 64.38],
          [1572964200000, 64.28],
          [1573050600000, 64.31],
          [1573137000000, 64.86],
          [1573223400000, 65.04],
          [1573482600000, 65.55],
          [1573569000000, 65.49],
          [1573655400000, 66.12],
          [1573741800000, 65.66],
          [1573828200000, 66.44],
          [1574087400000, 66.78],
          [1574173800000, 66.57],
          [1574260200000, 65.8],
          [1574346600000, 65.5],
          [1574433000000, 65.44],
          [1574692200000, 66.59],
          [1574778600000, 66.07],
          [1574865000000, 66.96],
          [1575037800000, 66.81],
          [1575297000000, 66.04],
          [1575383400000, 64.86],
          [1575469800000, 65.43],
          [1575556200000, 66.39],
          [1575642600000, 67.68],
          [1575901800000, 66.73],
          [1575988200000, 67.12],
          [1576074600000, 67.69],
          [1576161000000, 67.86],
          [1576247400000, 68.79],
          [1576506600000, 69.96],
          [1576593000000, 70.1],
          [1576679400000, 69.93],
          [1576765800000, 70],
          [1576852200000, 69.86],
          [1577111400000, 71],
          [1577197800000, 71.07],
          [1577370600000, 72.48],
          [1577457000000, 72.45],
          [1577716200000, 72.88],
          [1577802600000, 73.41],
          [1577975400000, 75.09],
          [1578061800000, 74.36],
          [1578321000000, 74.95],
          [1578407400000, 74.6],
          [1578493800000, 75.8],
          [1578580200000, 77.41],
        ];
      })
      .catch((err) => {
        console.log(err);
      });
  },
};
</script>
<style>
</style>
